\doxysection{VRE\+\_\+gl\+TFModel.\+cpp}
\hypertarget{_v_r_e__gl_t_f_model_8cpp_source}{}\label{_v_r_e__gl_t_f_model_8cpp_source}\index{ReSTIRVulkan/VRE\_glTFModel.cpp@{ReSTIRVulkan/VRE\_glTFModel.cpp}}
\mbox{\hyperlink{_v_r_e__gl_t_f_model_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00001}00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00002}00002\ \textcolor{comment}{*\ \ Resources:}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00003}00003\ \textcolor{comment}{*\ \ \ Galea,\ B.\ (2020).\ Vulkan\ Game\ Engine\ Tutorial.\ [online]\ YouTube.\ Available\ at:\ https://www.youtube.com/watch?v=Y9U9IE0gVHA\&list=PL8327DO66nu9qYVKLDmdLW\_84-\/yE4auCR\&index=1\ and\ https://github.com/blurrypiano/littleVulkanEngine\ (Accessed\ 15\ June\ 2024).}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00004}00004\ \textcolor{comment}{*\ \ \ Willems,\ S.\ (2023).\ Vulkan\ C++\ examples\ and\ demos.\ [online]\ GitHub.\ Available\ at:\ https://github.com/SaschaWillems/Vulkan\ (Accessed\ 12\ June\ 2024).}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00005}00005\ \textcolor{comment}{*/}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00006}\mbox{\hyperlink{_v_r_e__gl_t_f_model_8cpp_ac203b64c0edef3702d707aed38ab024a}{00006}}\ \textcolor{preprocessor}{\#define\ TINYGLTF\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00007}\mbox{\hyperlink{_v_r_e__gl_t_f_model_8cpp_a18372412ad2fc3ce1e3240b3cf0efe78}{00007}}\ \textcolor{preprocessor}{\#define\ STB\_IMAGE\_IMPLEMENTATION}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00008}\mbox{\hyperlink{_v_r_e__gl_t_f_model_8cpp_a066d7810c38721d932038acfad638d0e}{00008}}\ \textcolor{preprocessor}{\#define\ STBI\_MSC\_SECURE\_CRT}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00010}00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_v_r_e__gl_t_f_model_8h}{VRE\_glTFModel.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00011}00011\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00012}00012\ \textcolor{preprocessor}{\#include\ <gtc/type\_ptr.hpp>}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00014}\mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_aec8f9787561dfb6577a9fa515d49a7cb}{00014}}\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_aec8f9787561dfb6577a9fa515d49a7cb}{VRE::VRE\_glTFModel::VRE\_glTFModel}}(\mbox{\hyperlink{class_v_r_e_1_1_v_r_e___device}{VRE\_Device}}\&\ device,\ \textcolor{keyword}{const}\ std::string\&\ fileFolder,\ \textcolor{keyword}{const}\ std::string\&\ fileName)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00015}00015\ \ \ \ \ :\ mDevice(device)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00016}00016\ \ \ \ \ ,\ mFileFolder(fileFolder)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00017}00017\ \ \ \ \ ,\ mFileName(fileName)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00018}00018\ \ \ \ \ ,\ mIndexCount(0)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00019}00019\ \ \ \ \ ,\ mVertexCount(0)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00020}00020\ \{\}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00022}\mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a0f387922e62658a6feca31851a024fe9}{00022}}\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a0f387922e62658a6feca31851a024fe9}{VRE::VRE\_glTFModel::\string~VRE\_glTFModel}}()}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00023}00023\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00024}00024\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ node\ :\ mNodes)\ \textcolor{keyword}{delete}\ node;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00025}00025\ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00027}\mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a38eb65f1987ba4c2ce1a7ed017f9670e}{00027}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a38eb65f1987ba4c2ce1a7ed017f9670e}{VRE::VRE\_glTFModel::LoadModel}}()}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00028}00028\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00029}00029\ \ \ \ \ \textcolor{keyword}{auto}\ startTime\ =\ std::chrono::high\_resolution\_clock::now();}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00030}00030\ \ \ \ \ tinygltf::Model\ model;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00031}00031\ \ \ \ \ tinygltf::TinyGLTF\ gltfContext;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00032}00032\ \ \ \ \ std::string\ error,\ warning;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00033}00033\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00034}00034\ \ \ \ \ std::string\ filePath\ =\ mFileFolder;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00036}00036\ \ \ \ \ \textcolor{keywordflow}{if}\ (!gltfContext.LoadASCIIFromFile(\&model,\ \&error,\ \&warning,\ filePath.append(mFileName).append(\textcolor{stringliteral}{"{}.gltf"{}})))}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00037}00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\textcolor{stringliteral}{"{}Failed\ to\ load\ glTF\ file!"{}});}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00039}00039\ \ \ \ \ LoadTextures(model);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00040}00040\ \ \ \ \ LoadMaterials(model);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00042}00042\ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::Scene\&\ scene\ =\ model.scenes[0];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00044}00044\ \ \ \ \ \mbox{\hyperlink{struct_v_r_e_1_1_model_data}{ModelData}}\ data\{\};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00047}00047\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ scene.nodes.size();\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::Node\ node\ =\ model.nodes[scene.nodes[i]];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00049}00049\ \ \ \ \ \ \ \ \ LoadNode(\textcolor{keyword}{nullptr},\ node,\ model,\ data);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00050}00050\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00051}00051\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00052}00052\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Model\ index\ count:\ "{}}\ <<\ mIndexCount\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00053}00053\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Model\ vertex\ count:\ "{}}\ <<\ mVertexCount\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00054}00054\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Model\ texture\ count:\ "{}}\ <<\ mTextures.size()\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00056}00056\ \ \ \ \ CreateVertexBuffers(data.mVertices);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00057}00057\ \ \ \ \ CreateIndexBuffer(data.mIndices);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00058}00058\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00059}00059\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ currentTime\ =\ std::chrono::high\_resolution\_clock::now();}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00060}00060\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ loadTime\ =\ std::chrono::duration<float,\ std::chrono::seconds::period>(currentTime\ -\/\ startTime).count();}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00061}00061\ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Model\ load\ time:\ "{}}\ <<\ loadTime\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00062}00062\ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00064}\mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a964837d5bcb4149da1f59fd3677ef3db}{00064}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a964837d5bcb4149da1f59fd3677ef3db}{VRE::VRE\_glTFModel::LoadTextures}}(tinygltf::Model\&\ model)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00065}00065\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00066}00066\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ image\ :\ model.images)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00067}00067\ \ \ \ \ \ \ \ \ std::string\ filePath\ =\ mFileFolder;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00068}00068\ \ \ \ \ \ \ \ \ filePath.append(image.name).append(image.uri);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00069}00069\ \ \ \ \ \ \ \ \ mTextures.push\_back(std::move(\mbox{\hyperlink{class_v_r_e_1_1_v_r_e___texture_a00f3e3684a8ebaabd09fd65b93c50c7c}{VRE\_Texture::CreateTexture}}(mDevice,\ filePath)));}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00070}00070\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00071}00071\ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00073}\mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_ab03732bdb093393fa4498ee982f13761}{00073}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_ab03732bdb093393fa4498ee982f13761}{VRE::VRE\_glTFModel::LoadMaterials}}(tinygltf::Model\&\ model)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00074}00074\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00075}00075\ \ \ \ \ mMaterials.resize(model.materials.size());}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00076}00076\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ model.materials.size();\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00077}00077\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00078}00078\ \ \ \ \ \ \ \ \ tinygltf::Material\ inputMat\ =\ model.materials[i];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00080}00080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inputMat.values.find(\textcolor{stringliteral}{"{}baseColorFactor"{}})\ !=\ inputMat.values.end())\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00081}00081\ \ \ \ \ \ \ \ \ \ \ \ \ mMaterials[i].mBaseColorFactor\ =\ glm::make\_vec4(inputMat.values[\textcolor{stringliteral}{"{}baseColorFactor"{}}].ColorFactor().data());}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00082}00082\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00083}00083\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00084}00084\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inputMat.values.find(\textcolor{stringliteral}{"{}baseColorTexture"{}})\ !=\ inputMat.values.end())\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00085}00085\ \ \ \ \ \ \ \ \ \ \ \ \ mMaterials[i].mBaseColorTextureIndex\ =\ inputMat.values[\textcolor{stringliteral}{"{}baseColorTexture"{}}].TextureIndex();}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00086}00086\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00087}00087\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00089}00089\ \ \ \ \ mTextureIndices.resize(model.textures.size());}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00090}00090\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ model.textures.size();\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00091}00091\ \ \ \ \ \ \ \ \ mTextureIndices[i]\ =\ model.textures[i].source;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00092}00092\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00093}00093\ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00094}00094\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00095}\mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_afbd219fd31bb17c530e6b660209d50c6}{00095}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_afbd219fd31bb17c530e6b660209d50c6}{VRE::VRE\_glTFModel::LoadNode}}(\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_node}{glTFNode}}*\ parent,\ \textcolor{keyword}{const}\ tinygltf::Node\&\ inputNode,\ \textcolor{keyword}{const}\ tinygltf::Model\&\ model,\ \mbox{\hyperlink{struct_v_r_e_1_1_model_data}{ModelData}}\&\ data)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00096}00096\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00097}00097\ \ \ \ \ \mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_node}{glTFNode}}*\ node\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_node}{glTFNode}}\{\};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00098}00098\ \ \ \ \ node-\/>\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_node_a4e05cede34f2c70ca25a4ecb314a7307}{mParent}}\ =\ parent;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00100}00100\ \ \ \ \ \textcolor{keywordflow}{if}\ (inputNode.children.size()\ >\ 0)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00101}00101\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ inputNode.children.size();\ i++)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00102}00102\ \ \ \ \ \ \ \ \ \ \ \ \ LoadNode(node,\ model.nodes[inputNode.children[i]],\ model,\ data);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00104}00104\ \ \ \ \ \textcolor{keywordflow}{if}\ (inputNode.mesh\ >\ -\/1)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00105}00105\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::Mesh\ mesh\ =\ model.meshes[inputNode.mesh];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00106}00106\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00107}00107\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ mesh.primitives.size();\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00108}00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::Primitive\&\ inputPrimitive\ =\ mesh.primitives[i];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00109}00109\ \ \ \ \ \ \ \ \ \ \ \ \ uint32\_t\ firstIndex\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(mIndexCount);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00110}00110\ \ \ \ \ \ \ \ \ \ \ \ \ uint32\_t\ vertexStart\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(mVertexCount);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00111}00111\ \ \ \ \ \ \ \ \ \ \ \ \ uint32\_t\ indexCount\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00112}00112\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00113}00113\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ positionBuffer\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00114}00114\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ normalsBuffer\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00115}00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ texCoordsBuffer\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ coloursBuffer\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ vertexCount\ =\ 0;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00119}00119\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inputPrimitive.attributes.find(\textcolor{stringliteral}{"{}POSITION"{}})\ !=\ inputPrimitive.attributes.end())\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00120}00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::Accessor\&\ accessor\ =\ model.accessors[inputPrimitive.attributes.find(\textcolor{stringliteral}{"{}POSITION"{}})-\/>second];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00121}00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::BufferView\&\ view\ =\ model.bufferViews[accessor.bufferView];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00122}00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ positionBuffer\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{float}*\textcolor{keyword}{>}(\&(model.buffers[view.buffer].data[accessor.byteOffset\ +\ view.byteOffset]));}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00123}00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vertexCount\ =\ accessor.count;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00124}00124\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00125}00125\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00126}00126\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inputPrimitive.attributes.find(\textcolor{stringliteral}{"{}NORMAL"{}})\ !=\ inputPrimitive.attributes.end())\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00127}00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::Accessor\&\ accessor\ =\ model.accessors[inputPrimitive.attributes.find(\textcolor{stringliteral}{"{}NORMAL"{}})-\/>second];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::BufferView\&\ view\ =\ model.bufferViews[accessor.bufferView];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ normalsBuffer\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{float}*\textcolor{keyword}{>}(\&(model.buffers[view.buffer].data[accessor.byteOffset\ +\ view.byteOffset]));}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00132}00132\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inputPrimitive.attributes.find(\textcolor{stringliteral}{"{}TEXCOORD\_0"{}})\ !=\ inputPrimitive.attributes.end())\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00133}00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::Accessor\&\ accessor\ =\ model.accessors[inputPrimitive.attributes.find(\textcolor{stringliteral}{"{}TEXCOORD\_0"{}})-\/>second];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00134}00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::BufferView\&\ view\ =\ model.bufferViews[accessor.bufferView];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00135}00135\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ texCoordsBuffer\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{float}*\textcolor{keyword}{>}(\&(model.buffers[view.buffer].data[accessor.byteOffset\ +\ view.byteOffset]));}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00136}00136\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00137}00137\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00138}00138\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (inputPrimitive.attributes.find(\textcolor{stringliteral}{"{}COLOR\_0"{}})\ !=\ inputPrimitive.attributes.end())\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00139}00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::Accessor\&\ accessor\ =\ model.accessors[inputPrimitive.attributes.find(\textcolor{stringliteral}{"{}COLOR\_0"{}})-\/>second];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00140}00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::BufferView\&\ view\ =\ model.bufferViews[accessor.bufferView];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00141}00141\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ coloursBuffer\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{float}*\textcolor{keyword}{>}(\&(model.buffers[view.buffer].data[accessor.byteOffset\ +\ view.byteOffset]));}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00142}00142\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00144}00144\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ v\ =\ 0;\ v\ <\ vertexCount;\ v++)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00145}00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_v_r_e_1_1_vertex}{Vertex}}\ vert\{\};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00146}00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vert.\mbox{\hyperlink{struct_v_r_e_1_1_vertex_ad18d03afe8d05152d85679ed5269180e}{mPosition}}\ =\ glm::vec4(glm::make\_vec3(\&positionBuffer[v\ *\ 3]),\ 1.0f);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00147}00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vert.mNormal\ =\ glm::normalize(glm::vec3(normalsBuffer\ ?\ glm::make\_vec3(\&normalsBuffer[v\ *\ 3])\ :\ glm::vec3(0.0f)));}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00148}00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vert.mTexCoord0\ =\ texCoordsBuffer\ ?\ glm::make\_vec2(\&texCoordsBuffer[v\ *\ 2])\ :\ glm::vec3(0.0f);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00149}00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vert.mColor\ =\ coloursBuffer\ ?\ glm::make\_vec3(\&coloursBuffer[v\ *\ 3])\ :\ glm::vec3(1.0f);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00150}00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data.\mbox{\hyperlink{struct_v_r_e_1_1_model_data_a92cc8189092fea36d6a1c74d39ff8450}{mVertices}}.push\_back(vert);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00151}00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mVertexCount++;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00152}00152\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00154}00154\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::Accessor\&\ accessor\ =\ model.accessors[inputPrimitive.indices];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00155}00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::BufferView\&\ bufferView\ =\ model.bufferViews[accessor.bufferView];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ tinygltf::Buffer\&\ buffer\ =\ model.buffers[bufferView.buffer];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00157}00157\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00158}00158\ \ \ \ \ \ \ \ \ \ \ \ \ indexCount\ +=\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(accessor.count);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00159}00159\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00160}00160\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ glTF\ supports\ different\ component\ types\ of\ indices}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00161}00161\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (accessor.componentType)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00162}00162\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ TINYGLTF\_PARAMETER\_TYPE\_UNSIGNED\_INT:\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00163}00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint32\_t*\ buf\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }uint32\_t*\textcolor{keyword}{>}(\&buffer.data[accessor.byteOffset\ +\ bufferView.byteOffset]);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00164}00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ index\ =\ 0;\ index\ <\ accessor.count;\ index++)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00165}00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data.\mbox{\hyperlink{struct_v_r_e_1_1_model_data_aab3ffb46ae09211e9e22d265e9d15808}{mIndices}}.push\_back(buf[index]\ +\ vertexStart);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00166}00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mIndexCount++;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00167}00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00168}00168\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00169}00169\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00170}00170\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ TINYGLTF\_PARAMETER\_TYPE\_UNSIGNED\_SHORT:\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00171}00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint16\_t*\ buf\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }uint16\_t*\textcolor{keyword}{>}(\&buffer.data[accessor.byteOffset\ +\ bufferView.byteOffset]);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00172}00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ index\ =\ 0;\ index\ <\ accessor.count;\ index++)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00173}00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data.\mbox{\hyperlink{struct_v_r_e_1_1_model_data_aab3ffb46ae09211e9e22d265e9d15808}{mIndices}}.push\_back(buf[index]\ +\ vertexStart);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00174}00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mIndexCount++;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00175}00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00176}00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00177}00177\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00178}00178\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ TINYGLTF\_PARAMETER\_TYPE\_UNSIGNED\_BYTE:\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00179}00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ uint8\_t*\ buf\ =\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }uint8\_t*\textcolor{keyword}{>}(\&buffer.data[accessor.byteOffset\ +\ bufferView.byteOffset]);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00180}00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ index\ =\ 0;\ index\ <\ accessor.count;\ index++)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00181}00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ data.\mbox{\hyperlink{struct_v_r_e_1_1_model_data_aab3ffb46ae09211e9e22d265e9d15808}{mIndices}}.push\_back(buf[index]\ +\ vertexStart);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00182}00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mIndexCount++;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00183}00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00184}00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00185}00185\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00186}00186\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00187}00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}Index\ component\ type\ "{}}\ <<\ accessor.componentType\ <<\ \textcolor{stringliteral}{"{}\ not\ supported!"{}}\ <<\ std::endl;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00188}00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00189}00189\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00190}00190\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00191}00191\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_primitive}{glTFPrimitive}}\ primitive\{\};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00192}00192\ \ \ \ \ \ \ \ \ \ \ \ \ primitive.\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_primitive_acbf277aa8a04eda8a7c0422360348ccc}{mFirstIndex}}\ =\ firstIndex;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00193}00193\ \ \ \ \ \ \ \ \ \ \ \ \ primitive.mIndexCount\ =\ indexCount;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00194}00194\ \ \ \ \ \ \ \ \ \ \ \ \ primitive.mMaterialIndex\ =\ inputPrimitive.material;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00195}00195\ \ \ \ \ \ \ \ \ \ \ \ \ node-\/>\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_node_a06bcabb34c5abb0a16bd82a04ce6e6f9}{mMesh}}.\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_mesh_a59c3d30e049bc3e44bdd1c090d0fa881}{mPrimitives}}.push\_back(primitive);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00196}00196\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00197}00197\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00198}00198\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00199}00199\ \ \ \ \ \textcolor{keywordflow}{if}\ (parent)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00200}00200\ \ \ \ \ \ \ \ \ parent-\/>\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_node_a314f3f55d3853ce0031d37fdd6df50e0}{mChildren}}.push\_back(node);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00201}00201\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00202}00202\ \ \ \ \ \ \ \ \ mNodes.push\_back(node);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00203}00203\ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00204}00204\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00205}\mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_ab3b150493619e5477bb0d69b643fdaf6}{00205}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_ab3b150493619e5477bb0d69b643fdaf6}{VRE::VRE\_glTFModel::Bind}}(VkCommandBuffer\ commandBuffer)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00206}00206\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00207}00207\ \ \ \ \ VkBuffer\ buffers[]\ =\ \{\ mVertexBuffer-\/>GetBuffer()\ \};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00208}00208\ \ \ \ \ VkDeviceSize\ offsets[]\ =\ \{\ 0\ \};}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00209}00209\ \ \ \ \ vkCmdBindVertexBuffers(commandBuffer,\ 0,\ 1,\ buffers,\ offsets);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00210}00210\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00211}00211\ \ \ \ \ vkCmdBindIndexBuffer(commandBuffer,\ mIndexBuffer-\/>GetBuffer(),\ 0,\ VK\_INDEX\_TYPE\_UINT32);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00212}00212\ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00213}00213\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00214}\mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a537958ba90f5364456967352cf25e29c}{00214}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a537958ba90f5364456967352cf25e29c}{VRE::VRE\_glTFModel::Render}}(VkCommandBuffer\ commandBuffer,\ VkPipelineLayout\&\ pipelineLayout,\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e___descriptor_writer}{VRE\_DescriptorWriter}}\&\ writer)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00215}00215\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00216}00216\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ node\ :\ mNodes)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00217}00217\ \ \ \ \ \ \ \ \ RenderNode(commandBuffer,\ node,\ pipelineLayout,\ writer);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00218}00218\ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00219}00219\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00220}\mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a8464afdcbe8e74ac48f287d98f2bc6be}{00220}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a8464afdcbe8e74ac48f287d98f2bc6be}{VRE::VRE\_glTFModel::RenderNode}}(VkCommandBuffer\ commandBuffer,\ \mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_node}{glTFNode}}*\ node,\ VkPipelineLayout\&\ pipelineLayout,\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e___descriptor_writer}{VRE\_DescriptorWriter}}\&\ writer)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00221}00221\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00222}00222\ \ \ \ \ \textcolor{keywordflow}{if}\ (node-\/>\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_node_a06bcabb34c5abb0a16bd82a04ce6e6f9}{mMesh}}.\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_mesh_a59c3d30e049bc3e44bdd1c090d0fa881}{mPrimitives}}.size()\ >\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00223}00223\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_primitive}{glTFPrimitive}}\&\ primitive\ :\ node-\/>\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_node_a06bcabb34c5abb0a16bd82a04ce6e6f9}{mMesh}}.\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_mesh_a59c3d30e049bc3e44bdd1c090d0fa881}{mPrimitives}})\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00224}00224\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (primitive.\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_primitive_ae7f9c64def53c4dd290815c187a267d6}{mIndexCount}}\ >\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00225}00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ texture\ =\ mTextureIndices[mMaterials[primitive.\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_primitive_adde03abe56cb7c547ecb0f641a81b5a2}{mMaterialIndex}}].mBaseColorTextureIndex];}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00226}00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ imageInfo\ =\ mTextures[texture]-\/>GetDescImageInfo();}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00227}00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ writer.\mbox{\hyperlink{class_v_r_e_1_1_v_r_e___descriptor_writer_acbe2599628d159398cfd588f2e7a25c2}{WriteImage}}(1,\ \&imageInfo);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00228}00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ VkDescriptorSet\ gameObjectDescriptorSet;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00229}00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ writer.\mbox{\hyperlink{class_v_r_e_1_1_v_r_e___descriptor_writer_a55cab3920a8f2dfbcbba0f3710cd373e}{Build}}(gameObjectDescriptorSet);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00230}00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vkCmdBindDescriptorSets(commandBuffer,\ VK\_PIPELINE\_BIND\_POINT\_GRAPHICS,\ pipelineLayout,\ 1,\ 1,\ \&gameObjectDescriptorSet,\ 0,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00231}00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vkCmdDrawIndexed(commandBuffer,\ primitive.\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_primitive_ae7f9c64def53c4dd290815c187a267d6}{mIndexCount}},\ 1,\ primitive.\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_primitive_acbf277aa8a04eda8a7c0422360348ccc}{mFirstIndex}},\ 0,\ 0);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00232}00232\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00233}00233\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00234}00234\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00235}00235\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ child\ :\ node-\/>\mbox{\hyperlink{struct_v_r_e_1_1gl_t_f_node_a314f3f55d3853ce0031d37fdd6df50e0}{mChildren}})\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00236}00236\ \ \ \ \ \ \ \ \ RenderNode(commandBuffer,\ child,\ pipelineLayout,\ writer);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00237}00237\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00238}00238\ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00239}00239\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00240}\mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a342de1f4eac09718e5402617b8fdb6b9}{00240}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_a342de1f4eac09718e5402617b8fdb6b9}{VRE::VRE\_glTFModel::CreateVertexBuffers}}(\textcolor{keyword}{const}\ std::vector<Vertex>\&\ vertices)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00241}00241\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00242}00242\ \ \ \ \ mVertexCount\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(vertices.size());}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00243}00243\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00244}00244\ \ \ \ \ assert(mVertexCount\ >=\ 3\ \&\&\ \textcolor{stringliteral}{"{}Vertex\ count\ must\ be\ at\ least\ 3!"{}});}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00245}00245\ \ \ \ \ VkDeviceSize\ bufferSize\ =\ \textcolor{keyword}{sizeof}(vertices[0])\ *\ mVertexCount;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00246}00246\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00247}00247\ \ \ \ \ uint32\_t\ vertexSize\ =\ \textcolor{keyword}{sizeof}(vertices[0]);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00248}00248\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00249}00249\ \ \ \ \ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e___buffer}{VRE\_Buffer}}\ stagingBuffer(mDevice,\ vertexSize,\ mVertexCount,\ VK\_BUFFER\_USAGE\_TRANSFER\_SRC\_BIT,}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00250}00250\ \ \ \ \ \ \ \ \ VK\_MEMORY\_PROPERTY\_HOST\_VISIBLE\_BIT\ |\ VK\_MEMORY\_PROPERTY\_HOST\_COHERENT\_BIT);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00251}00251\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00252}00252\ \ \ \ \ stagingBuffer.\mbox{\hyperlink{class_v_r_e_1_1_v_r_e___buffer_a1fcc1a81e90c3fb8a143ae4366b1f7d8}{Map}}();}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00253}00253\ \ \ \ \ stagingBuffer.\mbox{\hyperlink{class_v_r_e_1_1_v_r_e___buffer_ab3316823e14587f60b98ccdb0bf71c47}{WriteToBuffer}}((\textcolor{keywordtype}{void}*)vertices.data());}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00254}00254\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00255}00255\ \ \ \ \ mVertexBuffer\ =\ std::make\_unique<VRE\_Buffer>(mDevice,\ vertexSize,\ mVertexCount,}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00256}00256\ \ \ \ \ \ \ \ \ VK\_BUFFER\_USAGE\_VERTEX\_BUFFER\_BIT\ |\ VK\_BUFFER\_USAGE\_TRANSFER\_DST\_BIT,}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00257}00257\ \ \ \ \ \ \ \ \ VK\_MEMORY\_PROPERTY\_DEVICE\_LOCAL\_BIT);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00258}00258\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00259}00259\ \ \ \ \ mDevice.CopyBuffer(stagingBuffer.\mbox{\hyperlink{class_v_r_e_1_1_v_r_e___buffer_a0b4e8cbd307ba5cb1efde5e350b15f34}{GetBuffer}}(),\ mVertexBuffer-\/>GetBuffer(),\ bufferSize);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00260}00260\ \}}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00261}00261\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00262}\mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_afd30f781b7128478ea245c9716d938a2}{00262}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e__gl_t_f_model_afd30f781b7128478ea245c9716d938a2}{VRE::VRE\_glTFModel::CreateIndexBuffer}}(\textcolor{keyword}{const}\ std::vector<uint32\_t>\&\ indices)}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00263}00263\ \{}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00264}00264\ \ \ \ \ mIndexCount\ =\ \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(indices.size());}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00265}00265\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00266}00266\ \ \ \ \ VkDeviceSize\ bufferSize\ =\ \textcolor{keyword}{sizeof}(indices[0])\ *\ mIndexCount;}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00267}00267\ \ \ \ \ uint32\_t\ indexSize\ =\ \textcolor{keyword}{sizeof}(indices[0]);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00268}00268\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00269}00269\ \ \ \ \ \mbox{\hyperlink{class_v_r_e_1_1_v_r_e___buffer}{VRE\_Buffer}}\ stagingBuffer(mDevice,\ indexSize,\ mIndexCount,\ VK\_BUFFER\_USAGE\_TRANSFER\_SRC\_BIT,}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00270}00270\ \ \ \ \ \ \ \ \ VK\_MEMORY\_PROPERTY\_HOST\_VISIBLE\_BIT\ |\ VK\_MEMORY\_PROPERTY\_HOST\_COHERENT\_BIT);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00271}00271\ \ \ \ \ stagingBuffer.\mbox{\hyperlink{class_v_r_e_1_1_v_r_e___buffer_a1fcc1a81e90c3fb8a143ae4366b1f7d8}{Map}}();}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00272}00272\ \ \ \ \ stagingBuffer.\mbox{\hyperlink{class_v_r_e_1_1_v_r_e___buffer_ab3316823e14587f60b98ccdb0bf71c47}{WriteToBuffer}}((\textcolor{keywordtype}{void}*)indices.data());}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00273}00273\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00274}00274\ \ \ \ \ mIndexBuffer\ =\ std::make\_unique<VRE\_Buffer>(mDevice,\ indexSize,\ mIndexCount,}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00275}00275\ \ \ \ \ \ \ \ \ VK\_BUFFER\_USAGE\_INDEX\_BUFFER\_BIT\ |\ VK\_BUFFER\_USAGE\_TRANSFER\_DST\_BIT,}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00276}00276\ \ \ \ \ \ \ \ \ VK\_MEMORY\_PROPERTY\_DEVICE\_LOCAL\_BIT);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00277}00277\ }
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00278}00278\ \ \ \ \ mDevice.CopyBuffer(stagingBuffer.\mbox{\hyperlink{class_v_r_e_1_1_v_r_e___buffer_a0b4e8cbd307ba5cb1efde5e350b15f34}{GetBuffer}}(),\ mIndexBuffer-\/>GetBuffer(),\ bufferSize);}
\DoxyCodeLine{\Hypertarget{_v_r_e__gl_t_f_model_8cpp_source_l00279}00279\ \}}

\end{DoxyCode}
